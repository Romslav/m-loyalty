# Max Loyalty ‚Äî SaaS –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ü—Ä–æ–≥—Ä–∞–º–º—ã –õ–æ—è–ª—å–Ω–æ—Å—Ç–∏

> –ú–Ω–æ–≥–æ—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è B2B SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ —Å —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –∏ —Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–ª–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å POS-—Å–∏—Å—Ç–µ–º–∞–º–∏, Telegram Mini App –∏ –ø–æ–ª–Ω—ã–º –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º –º–æ–¥—É–ª–µ–º.

[![Documentation](https://img.shields.io/badge/docs-comprehensive-blue)](./docs/INDEX.md)
[![Status](https://img.shields.io/badge/status-in%20development-orange)](./docs/15-DEVELOPMENT-PATH.md)
[![Architecture](https://img.shields.io/badge/architecture-modular%20monolith-green)](./docs/17-ARCHITECTURE.md)

---

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ

**Max Loyalty** ‚Äî —ç—Ç–æ –º–Ω–æ–≥–æ—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–º –∑–∞–≤–µ–¥–µ–Ω–∏—è–º:

- –°–æ–∑–¥–∞–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (–ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–ª–æ–≤)
- –£–ø—Ä–∞–≤–ª—è—Ç—å –≥–æ—Å—Ç—è–º–∏ –∏ –∏—Ö –∫–∞—Ä—Ç–∞–º–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å POS-—Å–∏—Å—Ç–µ–º–∞–º–∏ (iiko, R-Keeper, Poster)
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≥–æ—Å—Ç—è–º Telegram Mini App –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π
- –ü–æ–ª—É—á–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ –±–∏–∑–Ω–µ—Å—É –∏ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥–æ–π (Owner ‚Üí Admin ‚Üí Manager ‚Üí Cashier)

---

## üìã –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

| –†–∞–∑–¥–µ–ª | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| üìñ –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã | [01-FULL-SYSTEM-OVERVIEW.md](./docs/01-FULL-SYSTEM-OVERVIEW.md) | –í—Å—ë –æ —Å–∏—Å—Ç–µ–º–µ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞ |
| üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | [02-DATABASE-SCHEMA.md](./docs/blocks/02-DATABASE-SCHEMA.md) | Prisma-—Å—Ö–µ–º–∞, –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã |
| üîß Backend API | [03-BACKEND-API.md](./docs/blocks/03-BACKEND-API.md) | NestJS API, –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã |
| üè™ POS-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | [04-POS-INTEGRATION.md](./docs/blocks/04-POS-INTEGRATION.md) | iiko, R-Keeper, webhooks |
| üñ•Ô∏è Frontend Admin | [05-FRONTEND-ADMIN.md](./docs/blocks/05-FRONTEND-ADMIN.md) | Next.js 14, Admin Panel |
| üë®‚Äçüíº Manager Dashboard | [06-MANAGER-DASHBOARD.md](./docs/blocks/06-MANAGER-DASHBOARD.md) | –†–æ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ |
| üí≥ –ö–∞—Å—Å–∞ | [07-CASHIER-INTERFACE.md](./docs/blocks/07-CASHIER-INTERFACE.md) | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞—Å—Å–∏—Ä–∞, PIN-auth |
| üì± Telegram Mini App | [08-TELEGRAM-MINI-APP.md](./docs/blocks/08-TELEGRAM-MINI-APP.md) | Bot + Mini App –¥–ª—è –≥–æ—Å—Ç–µ–π |
| üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | [09-NOTIFICATIONS.md](./docs/blocks/09-NOTIFICATIONS.md) | Email, SMS, Telegram, Push |
| üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | [10-ANALYTICS.md](./docs/blocks/10-ANALYTICS.md) | –î–∞—à–±–æ—Ä–¥—ã, –æ—Ç—á—ë—Ç—ã, —ç–∫—Å–ø–æ—Ä—Ç |
| üí∞ –ë–∏–ª–ª–∏–Ω–≥ | [11-BILLING-SUBSCRIPTIONS.md](./docs/blocks/11-BILLING-SUBSCRIPTIONS.md) | –ü–æ–¥–ø–∏—Å–∫–∏, YooKassa/Stripe |
| üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | [12-TESTING-STRATEGY.md](./docs/blocks/12-TESTING-STRATEGY.md) | Jest, Supertest, Playwright, k6 |
| üöÄ DevOps | [13-INFRASTRUCTURE-DEVOPS.md](./docs/blocks/13-INFRASTRUCTURE-DEVOPS.md) | Fly.io, Docker, CI/CD |
| üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | [14-SECURITY-COMPLIANCE.md](./docs/blocks/14-SECURITY-COMPLIANCE.md) | GDPR, PCI DSS, OWASP |
| üõ£Ô∏è –ü—É—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ | [15-DEVELOPMENT-PATH.md](./docs/15-DEVELOPMENT-PATH.md) | –§–∞–∑—ã, –Ω–µ–¥–µ–ª–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã |
| üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | [16-PROJECT-STRUCTURE.md](./docs/16-PROJECT-STRUCTURE.md) | –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ monorepo |
| üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | [17-ARCHITECTURE.md](./docs/17-ARCHITECTURE.md) | ADR, –¥–∏–∞–≥—Ä–∞–º–º—ã, –ø–∞—Ç—Ç–µ—Ä–Ω—ã |

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Runtime:** Node.js 20 LTS
- **Framework:** NestJS 10 (Modular Monolith)
- **ORM:** Prisma 5 + PostgreSQL 15
- **Queue:** BullMQ + Redis
- **Auth:** JWT (access 15min + refresh 30d)

### Frontend
- **Framework:** Next.js 14 (App Router)
- **UI:** shadcn/ui + Radix UI + Tailwind CSS
- **State:** Zustand (client) + TanStack Query (server)
- **Tables:** TanStack Table v8
- **Charts:** Recharts

### Infrastructure
- **API Hosting:** Fly.io (3 VM: api + worker + cron)
- **Frontend:** Vercel
- **Database:** Neon.tech (PostgreSQL, 3 GB free)
- **Cache:** Upstash (Redis, serverless)
- **Storage:** Cloudflare R2 (S3-compatible)
- **CI/CD:** GitHub Actions

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **POS:** iiko Cloud/Server, R-Keeper, Poster
- **Payments:** YooKassa, Stripe
- **Messenger:** Telegram Bot API + Mini App
- **Email:** Resend
- **SMS:** SMS.RU

---

## üë• –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø

```
Owner (–í–ª–∞–¥–µ–ª–µ—Ü –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)
  ‚îî‚îÄ‚îÄ RestaurantAdmin (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤)
        ‚îî‚îÄ‚îÄ Manager (–ú–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞)
              ‚îî‚îÄ‚îÄ Cashier (–ö–∞—Å—Å–∏—Ä)
                    ‚îî‚îÄ‚îÄ Guest (–ì–æ—Å—Ç—å / –¥–µ—Ä–∂–∞—Ç–µ–ª—å –∫–∞—Ä—Ç—ã)
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
m-loyalty/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ api/          # NestJS Backend
‚îÇ   ‚îú‚îÄ‚îÄ worker/       # BullMQ Worker
‚îÇ   ‚îú‚îÄ‚îÄ cron/         # Cron Jobs
‚îÇ   ‚îî‚îÄ‚îÄ frontend/     # Next.js Admin Panel
‚îú‚îÄ‚îÄ libs/
‚îÇ   ‚îú‚îÄ‚îÄ common/       # Shared types, utils, constants
‚îÇ   ‚îú‚îÄ‚îÄ prisma/       # Prisma schema + migrations
‚îÇ   ‚îî‚îÄ‚îÄ sdk/          # Auto-generated TypeScript SDK
‚îú‚îÄ‚îÄ docs/             # –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª)
‚îú‚îÄ‚îÄ docker/           # Dockerfiles
‚îî‚îÄ‚îÄ .github/          # CI/CD workflows
```

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

| –§–∞–∑–∞ | –ì–æ—Å—Ç–µ–π | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å |
|------|--------|----------------|---------------|
| MVP | 0‚Äì500 | Free Tier | $0 |
| First Paying | 500‚Äì2k | Fly.io upgrade | ~$30 |
| PMF | 2k‚Äì10k | Neon Scale | ~$90 |
| Scale | 10k‚Äì50k | Dedicated DB + K8s | ~$300 |

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–∞—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã ¬© 2026 Max Loyalty.

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ 107-—Å–µ—Å—Å–∏–æ–Ω–Ω–æ–º—É –ø–ª–∞–Ω—É. –°–ª–µ–¥–∏—Ç–µ –∑–∞ [docs/INDEX.md](./docs/INDEX.md) –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.*
